{% extends 'base.html' %}
{% load static %}



{% block content %}
<div class="conatiner">
    <h1>Add Employee Details</h1>
    <hr>
    <form action="{% url 'add_emp' %}" method="post" class="row g-3">
      {% csrf_token %}
    <div class="col-md-6">
        <label for="first_name">First Name</label>
        <input type="text" id="first_name" name="first_name" class="form-control" value="{{ first_name }}">
    </div>
    <div class="col-md-6">
      <label for="last_name">Last Name</label>
      <input type="text" id="last_name" name="last_name" class="form-control" value="{{ last_name }}">
    </div>
      
    <div class="col-md-6">
      <label for="salary">Salary</label>
      <input type="number" id="salary" name="salary" class="form-control" value="{{ salary }}">
    </div>

    <div class="col-md-6">
        <label for="bonus">Bonus</label>
        <input type="number" id="bonus" name="bonus" class="form-control" value="{{ bonus }}">
    </div>    
    <div class="col-md-6">
      <label for="phone">Phone</label>
      <input type="number" id="phone" name="phone" class="form-control" value="{{ phone }}">
    </div>
    <div class="col-md-6">
        <label for="role">Role</label>
        <select id="role" name="role" required class="form-control">
            <option value="">Select a role</option>
            {% for role in roles %}
            <option value="{{ role.id }}">{{ role.name }}</option>
            {% endfor %}
        </select><br>
    </div>    
    <div class="col-md-6">
        <label for="dept">Department</label>
        <select id="dept" name="dept" required class="form-control">
            <option value="">Select a Department</option>
            {% for dept in departments %}
            <option value="{{ dept.id }}">{{ dept.name }}</option>
            {% endfor %}
        </select><br>
    </div>
    <div class="col-md-6">
        <label for="hire_date">Hire Date</label>
        <input type="date" id="hire_date"  name="hire_date" class="form-control" value="{{ hire_date }}">
    </div>  
    
      <button type="submit" class="btn btn-primary">Submit</button>
    
    </form>

    {% if error_message %}
        <p style="color: red;">{{ error_message }}</p>
    {% endif %}

    {% if success_message %}
        <p style="color: green;">{{ success_message }}</p>
        <script>
            // Clear the form fields
            document.getElementById("first_name").value = "";
            document.getElementById("last_name").value = "";
            document.getElementById("salary").value = "";
            document.getElementById("bonus").value = "";
            document.getElementById("phone").value = "";
            document.getElementById("role").value = "";
            document.getElementById("dept").value = "";
            document.getElementById("hire_date").value = "";
        </script>
    {% endif %}

</div>


{% endblock %}
    